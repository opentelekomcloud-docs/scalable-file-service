:original_name: ListShares.html

.. _ListShares:

Obtaining the File System List
==============================

Function
--------

This API is used to obtain the file system list.

URI
---

GET /v1/{project_id}/sfs-turbo/shares/detail

.. table:: **Table 1** Path Parameters

   ========== ========= ====== ===========
   Parameter  Mandatory Type   Description
   ========== ========= ====== ===========
   project_id Yes       String Project ID
   ========== ========= ====== ===========

.. table:: **Table 2** Query Parameters

   +-----------+-----------+------+----------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Mandatory | Type | Description                                                                                                                |
   +===========+===========+======+============================================================================================================================+
   | limit     | No        | Long | Specifies the maximum number of returned file systems. If this parameter is not specified, the default value 1000 is used. |
   +-----------+-----------+------+----------------------------------------------------------------------------------------------------------------------------+
   | offset    | No        | Long | Sets the offset of the returned file system.                                                                               |
   +-----------+-----------+------+----------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   ============ ========= ====== =============
   Parameter    Mandatory Type   Description
   ============ ========= ====== =============
   X-Auth-Token Yes       String Account token
   Content-Type Yes       String MIME type
   ============ ========= ====== =============

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-----------+--------------------------------------------------------------------+----------------------------------+
   | Parameter | Type                                                               | Description                      |
   +===========+====================================================================+==================================+
   | shares    | Array of :ref:`ShareInfo <listshares__response_shareinfo>` objects | List of SFS Turbo file systems   |
   +-----------+--------------------------------------------------------------------+----------------------------------+
   | count     | Integer                                                            | Number of SFS Turbo file systems |
   +-----------+--------------------------------------------------------------------+----------------------------------+

.. _listshares__response_shareinfo:

.. table:: **Table 5** ShareInfo

   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +=======================+==========================================================================+==============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | action_progress       | :ref:`ActionProgress <listshares__response_actionprogress>` object       | Creation progress of the SFS Turbo file system. This field is only returned when the file system is being created.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version               | String                                                                   | Version of the SFS Turbo file system                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | avail_capacity        | String                                                                   | Available capacity of the SFS Turbo file system, in GB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | availability_zone     | String                                                                   | Code of the AZ where the SFS Turbo file system resides                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | az_name               | String                                                                   | Name of the AZ where the SFS Turbo file system resides                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                                                                   | Time when the file system was created. UTC time, for example: 2018-11-19T04:02:03                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | crypt_key_id          | String                                                                   | ID of the encryption key specified by the user. This parameter is not returned for non-encrypted file systems.                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | expand_type           | String                                                                   | For an Enhanced file system, **bandwidth** is returned. For a 250 MB/s/TiB, 125 MB/s/TiB, 40 MB/s/TiB, or 20 MB/s/TiB file system, **hpc** is returned. For other types of file systems, this field is not returned.                                                                                                                                                                                                                                                                                                                                                         |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | export_location       | String                                                                   | Location where the SFS Turbo file system is mounted For example, 192.168.0.90:/. If the file system is being created, this parameter is not returned.                                                                                                                                                                                                                                                                                                                                                                                                                        |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                                   | ID of the SFS Turbo file system                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                   | Name of the SFS Turbo file system specified during creation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pay_model             | String                                                                   | Billing mode of the SFS Turbo file system. '0' indicates pay-per-use. If the file system is being created, this parameter is not returned.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | region                | String                                                                   | Region where the SFS Turbo file system resides                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | security_group_id     | String                                                                   | ID of the security group specified by the user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | share_proto           | String                                                                   | Protocol used by the SFS Turbo file system. The valid value is **NFS**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | share_type            | String                                                                   | Storage class of the SFS Turbo file system. Valid values are **STANDARD** and **PERFORMANCE**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | size                  | String                                                                   | Total capacity of the SFS Turbo file system, in GB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                                                                   | SFS Turbo file system status. The value can be as follows: **100** (creating), **200** (available), **303** (creation failed), and **800** (frozen)                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sub_status            | String                                                                   | Sub-status of the SFS Turbo file system. The value can be as follows: This field is not returned if no modification is made to the file system. **121** (expanding capacity), **132** (changing security group), **137** (adding authorized VPC), **138** (removing authorized VPC) **221** (expansion succeeded), **232** (security group changed), **237** (authorized VPC added), **238** (authorized VPC removed) **321** (expansion failed), **332** (changing security group failed), **337** (adding authorized VPC failed), **338** (removing authorized VPC failed) |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | subnet_id             | String                                                                   | ID of the subnet specified by the user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpc_id                | String                                                                   | ID of the VPC specified by the user                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | Array of :ref:`ResourceTag <listshares__response_resourcetag>` objects   | Tag list                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | optional_endpoint     | String                                                                   | Alternative IP addresses that can be used for mounting. This field is not returned for previous-generation file systems.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | hpc_bw                | String                                                                   | File system bandwidth.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   |                       |                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                          | -  "20M": 20 MB/s/TiB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   |                       |                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                          | -  "40M": 40 MB/s/TiB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   |                       |                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                          | -  "125M": 125 MB/s/TiB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   |                       |                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                          | -  "250M": 250 MB/s/TiB                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | instanceId            | String                                                                   | Node ID of the file system type. This is a reserved field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | instanceType          | String                                                                   | Node type of the file system type. This is a reserved field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | statusDetail          | String                                                                   | Request ID of the file system. This is a reserved field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | features              | :ref:`ShareInfoFeatures <listshares__response_shareinfofeatures>` object | Whether backup is supported for SFS turbo file systems.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listshares__response_actionprogress:

.. table:: **Table 6** ActionProgress

   ========= ====== =============================
   Parameter Type   Description
   ========= ====== =============================
   CREATING  String File system creation progress
   ========= ====== =============================

.. _listshares__response_resourcetag:

.. table:: **Table 7** ResourceTag

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                                                                                                                                      |
   +=======================+=======================+==================================================================================================================================================================================================================================================================================================================+
   | key                   | String                | Tag key.                                                                                                                                                                                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                                                                                                  |
   |                       |                       | It can contain a maximum of 128 characters.                                                                                                                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                                                                                                                                                  |
   |                       |                       | It cannot be left empty and cannot contain the following characters: ASCII (0-31), equal signs (=), asterisks (``*``), left angle brackets (<), right angle brackets (>), backslashes (), commas (,), vertical bars (|), and slashes (/). It can contain only letters, digits, hyphens (-), and underscores (_). |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Tag value.                                                                                                                                                                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                                                                                                                                                                  |
   |                       |                       | Each tag value can contain a maximum of 255 characters and can be an empty string.                                                                                                                                                                                                                               |
   |                       |                       |                                                                                                                                                                                                                                                                                                                  |
   |                       |                       | It cannot contain the following characters: ASCII (0-31), equal signs (=), asterisks (``*``), left angle brackets (<), right angle brackets (>), backslashes (), commas (,), vertical bars (|), and slashes (/). It can contain only letters, digits, hyphens (-), and underscores (_).                          |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listshares__response_shareinfofeatures:

.. table:: **Table 8** ShareInfoFeatures

   +-----------+------------------------------------------------------------------------+----------------------------------------------------+
   | Parameter | Type                                                                   | Description                                        |
   +===========+========================================================================+====================================================+
   | backup    | :ref:`ShareInfoFeature <listshares__response_shareinfofeature>` object | Whether the SFS Turbo file system supports backup. |
   +-----------+------------------------------------------------------------------------+----------------------------------------------------+

.. _listshares__response_shareinfofeature:

.. table:: **Table 9** ShareInfoFeature

   +------------+---------+--------------------------------------------------------------------------+
   | Parameter  | Type    | Description                                                              |
   +============+=========+==========================================================================+
   | is_support | Boolean | Whether the file system supports this feature.                           |
   +------------+---------+--------------------------------------------------------------------------+
   | message    | String  | Message about whether the file system supports this feature.             |
   +------------+---------+--------------------------------------------------------------------------+
   | msg_code   | String  | Code of the message about whether the file system supports this feature. |
   +------------+---------+--------------------------------------------------------------------------+

Example Requests
----------------

Querying file systems in the project whose ID **e1e45b08f3ea4480ab4655ef9c7160ba**

.. code-block:: text

   GET HTTPS://{endpoint}/v1/e1e45b08f3ea4480ab4655ef9c7160ba/sfs-turbo/shares/detail

Example Responses
-----------------

**Status code: 200**

Response body for querying the file system list

.. code-block::

   {
     "shares" : [ {
       "id" : "8fba8253-c914-439d-ae8b-d5c89d0bf5e8",
       "name" : "sfs-turbo-8468",
       "status" : "100",
       "version" : "1.0.0",
       "region" : "example",
       "created_at" : "2018-11-19T04:02:03",
       "action_progress" : {
         "CREATING" : "22%"
       },
       "share_type" : "STANDARD",
       "sub_status" : "",
       "availability_zone" : "az1.dc1",
       "az_name" : "az1",
       "vpc_id" : "b24e39e1-bc0c-475b-ae0c-aef9cf240af3",
       "subnet_id" : "86fc01ea-8ec8-409d-ba7a-e0ea16d4fd97",
       "security_group_id" : "50586458-aec9-442c-bb13-e08ddc6f1b7a",
       "size" : "500.00",
       "pay_model" : "0",
       "avail_capacity" : "500.00",
       "share_proto" : "NFS"
     } ]
   }

Status Codes
------------

=========== ===============================================
Status Code Description
=========== ===============================================
200         Response body for querying the file system list
=========== ===============================================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
